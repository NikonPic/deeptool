---

title: Abstract Model

keywords: fastai
sidebar: home_sidebar

summary: "Contains the general structure for all models in this library"
description: "Contains the general structure for all models in this library"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs\05_abstract_model.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">AbsModel</span><span class="p">(</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class contains the general architecture and functionality to deal with all Models in this library</span>
<span class="sd">    contains:</span>
<span class="sd">    Tracker -&gt; to visualize the progress</span>
<span class="sd">    Prep-input -&gt; to handle the input depending on the dataset smootly</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;init the abtract model&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AbsModel</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

        <span class="c1"># Setup the input loader</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_prep</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">dataset_type</span><span class="p">)</span>

        <span class="c1"># Setup the tracker to visualize the progress</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">track</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tracker</span> <span class="o">=</span> <span class="n">Tracker</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">select_prep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="n">switcher</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;MRNet&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">prep_mrnet_input</span><span class="p">,</span>
            <span class="s2">&quot;KneeXray&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">prep_kneexray_input</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># Get the model_creator</span>
        <span class="n">prep</span> <span class="o">=</span> <span class="n">switcher</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="s2">&quot;Invalid Dataset Type&quot;</span><span class="p">)</span>
        <span class="c1"># create model</span>
        <span class="k">return</span> <span class="n">prep</span>

    <span class="k">def</span> <span class="nf">prep_mrnet_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function deals with the MRNET input</span>
<span class="sd">        data = {&quot;img: x&quot;, ...}</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;img&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">prep_kneexray_input</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function deals with the KneeXray input</span>
<span class="sd">        data = [x, y]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@torch</span><span class="o">.</span><span class="n">no_grad</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">watch_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test_data</span><span class="p">,</span> <span class="n">iteration</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Outsourced to Tracker&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tracker</span><span class="o">.</span><span class="n">track_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test_data</span><span class="p">,</span> <span class="n">iteration</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AbsModel" class="doc_header"><code>class</code> <code>AbsModel</code><a href="https://github.com/NikonPic/deeptool/tree/master/deeptool/abs_model.py#L13" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AbsModel</code>(<strong><code>args</code></strong>) :: <code>Module</code></p>
</blockquote>
<p>This class contains the general architecture and functionality to deal with all Models in this library
contains:
Tracker -&gt; to visualize the progress
Prep-input -&gt; to handle the input depending on the dataset smootly</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

